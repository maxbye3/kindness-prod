{"version":3,"file":"swiper.component.js","sourceRoot":"","sources":["../../Users/max/Sites/kindness/kindness-prod/tmp/broccoli_type_script_compiler-input_base_path-SnPN04Qt.tmp/0/src/app/generator/swiper.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, ElementRef, Input } from '@angular/core';\nimport { EditComponent } from '../generator/edit.component';\nimport { Injectable } from '@angular/core';\nimport { GeneratorBackend } from '../generator.component';\ndeclare var jQuery: any;\ndeclare var Swiper: any;\n\n@Component({\n  selector: 'swiper-component',\n  templateUrl: 'app/generator/swiper.component.html',\n  styleUrls: ['app/generator/swiper.component.css'],\n  providers: [ EditComponent ]\n})\n\n@Injectable()\nexport class SwiperComponent {\n\n  constructor(\n    private editComponent : EditComponent,\n    private generatorBackend : GeneratorBackend\n  ) {}\n\n  populateData(data){\n\n    jQuery('.sliderComponent .swiper-wrapper').html('');\n\n    // console.log('data length is ' + data.length);\n    jQuery('.sliderComponent .swiper-wrapper').html('<div class=\"swiper-slide\" slide=\"' + 0 + '\">' + data[0] + '</div>');      \n    for (var i = 1; i < this.generatorBackend.data.length; i++) {  \n      if( !data[i] || data[i] < 40 ){\n        jQuery('.sliderComponent .swiper-wrapper').append('<div class=\"swiper-slide slide=\"' + i + '\"\"> Tap to continue </div>');      \n      }\n      else{    \n        jQuery('.sliderComponent .swiper-wrapper').append('<div class=\"swiper-slide slide=\"' + i + '\"\">' + data[i] + '</div>');  \n      }\n    }\n    \n    if(data.length < 20){\n      for (var i = 1; i < this.generatorBackend.data.length; i++) {  \n        jQuery('.sliderComponent .swiper-wrapper').append('<div class=\"swiper-slide slide=\"' + i + '\"\"> Tap to continue </div>');      \n      }\n    }\n\n    \n    \n  }\n  \n  enableSlider(data,type){\n\n    var slideNum = parseInt(localStorage.getItem('intentionNum'));\n    if(type == 'compassion' ||  type == 'evil' || !slideNum){\n      slideNum = 0;\n      var tempNum = 0;\n    } else {\n      tempNum = slideNum + 1;\n    }\n\n    if(type == 'compassion'){\n      // setTimeout(() => {\n        jQuery('.audioContainer0').html(\"<audio style='width:95%' controls><source src='audio/audio0.mp3' type='audio/mpeg'></audio>\");\n        jQuery('.audioContainer1').html(\"<audio style='width:95%' controls><source src='audio/audio1.mp3' type='audio/mpeg'></audio>\");\n        jQuery('.audioContainer2').html(\"<audio style='width:95%' controls><source src='audio/audio2.mp3' type='audio/mpeg'></audio>\");\n        jQuery('.audioContainer3').html(\"<audio style='width:95%' controls><source src='audio/audio3.mp3' type='audio/mpeg'></audio>\");\n      // }, 4000);\n    }\n\n    // enable swipe\n    jQuery('.swiper-container').show();\n    var mySwiper = new Swiper ('.swiper-container', {\n      direction: 'horizontal',\n       // Navigation arrows\n      nextButton: '.next',\n      initialSlide: slideNum + 1,\n      prevButton: '.prev',\n      onTouchStart: function(slider) { \n        \n        // console.log('initial slider: ' + slider.activeIndex); \n        if(slider.activeIndex == 1){\n          jQuery('.sonnyDialogue').attr('resetSwiper', 'false'); \n        }\n\n\n        if(jQuery('.sonnyDialogue').attr('resetSwiper') == 'compassion' || jQuery('.sonnyDialogue').attr('resetSwiper') == 'evil'){\n          slider.slideTo(0, 1000);          \n        }\n     \n\n      },\n      onTransitionEnd: function(slider) { \n        \n        // console.log('slider: ' + slider.activeIndex); \n\n        if(slider.activeIndex == 1){\n          jQuery('.sonnyDialogue').attr('resetSwiper', 'false'); \n        }\n\n\n        if(jQuery('.sonnyDialogue').attr('resetSwiper') == 'compassion' || jQuery('.sonnyDialogue').attr('resetSwiper') == 'evil'){\n          slider.slideTo(0, 1000);\n        }\n\n        if(jQuery('.sonnyDialogue').attr('generatorMode') == 'compassion'){\n          data.length = 4;\n          if(slider.activeIndex > 3){\n            slider.slideTo(0, 1000);\n          }\n        }\n\n        \n        if(slider.activeIndex == 0){\n          jQuery('.prev').hide();\n        }\n        else{\n          jQuery('.prev').show();\n        }\n        // console.log('data.length: ' + data.length);\n        if(slider.activeIndex == data.length - 1){\n          jQuery('.next').hide();\n        }\n        else{\n          jQuery('.next').show();\n        }\n\n        var sounds = document.getElementsByTagName('audio');\n        for(var i=0; i<sounds.length; i++) sounds[i].pause();\n\n\n        jQuery('.sliderComponent').attr('currentSlide', slider.activeIndex - 1);\n\n        // var topPos = jQuery('.sliderComponent').position().top + jQuery('.sliderComponent h1').height() + jQuery('.swiper-slide-active').height();\n        // jQuery('.customKindness').css('top', topPos);\n        // console.log(topPos);\n\n\n        if(slider.activeIndex == 4){\n          jQuery('.launchBroraid').click();\n        }\n      }\n    });\n    \n    \n  }\n\n  kindnessContainerHeight(overlapActive){\n    var windowHeight = jQuery(window).height();\n    var txtHeight = (windowHeight/2.5);\n    jQuery('.sliderComponent').css('top',txtHeight);\n    setTimeout(() => {\n      // if .sliderComponent meets .accept then bump up\n      var sliderHeight = jQuery('.swiper-container').height();\n      var acceptTop = jQuery('.accept').position().top;\n      var sliderTop = jQuery('.sliderComponent').position().top;\n      var overlap = acceptTop - (sliderTop + sliderHeight);\n      \n      if(overlapActive && overlap < 0){\n        jQuery('.sliderComponent').css('top', sliderTop + overlap);\n      } \n      jQuery('.sliderComponent').css('opacity','1'); \n    }, 500);      \n  }\n\n  arrowContainerHeight(){\n    var assignedScrollSpace = (jQuery(window).width() - jQuery('.swiper-slide').width()) / 2;\n    var actualScrollSpace = jQuery('.next').width();\n    var needsCorrection = assignedScrollSpace - actualScrollSpace;    \n    if(needsCorrection <= 0){\n      var fixedHeight = jQuery('.sliderComponent').position().top - jQuery('.next').height();\n      // jQuery('.arrow').css('top', fixedHeight);\n    }\n  }  \n  \n  kindnessDimension(){\n    /*\n     * KINDNESS (TEXT) WIDTH\n     * .kindnessContainer horizontal position on page\n     */\n       jQuery('.kindnessContainer').css('left','0px');  \n       var txtWidth = jQuery('.kindnessContainer').width(),\n       windowWidth = jQuery(window).width();\n       txtWidth = (windowWidth/2) - (txtWidth/2);\n       jQuery('.kindnessContainer').css('left',txtWidth);  \n       \n    /*\n     *  KINDNESS (TEXT) HEIGHT\n     *  .kindnessContainer vertical position on page\n     *  based on kindnessTxt\n     */ \n       var txtHeight = jQuery('.kindnessTxt').height(),\n       windowHeight = jQuery(window).height();\n       txtHeight = (windowHeight/2) - (txtHeight/2);\n       \n       jQuery('.kindnessContainer').css('top',txtHeight);   \n     }\n     \n     \n}\n\n"]}