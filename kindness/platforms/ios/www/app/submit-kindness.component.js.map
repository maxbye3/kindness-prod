{"version":3,"file":"submit-kindness.component.js","sourceRoot":"","sources":["../Users/max/Sites/kindness/kindness-prod/tmp/broccoli_type_script_compiler-input_base_path-f3oRfVku.tmp/0/src/app/submit-kindness.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component} from '@angular/core';\r\nimport {SonnyDialogue} from './sonny.dialogue.component';\r\nimport {SonnyHelp} from './help.component';\r\nimport {GoCalComponent} from './go.cal.component';\r\nimport {KindnessService} from './kindness.service';\r\nimport {SonnyComponent} from './sonny.component';\r\nimport {TimeService} from './time.service';\r\nimport {ChallengeComponent} from './challenge.component';\r\nimport { PretentiousComponent } from './pretentious.component'\r\nimport { AlternativeKindness } from './alternativeHome/alternateKindnessView.component'\r\ndeclare var jQuery: any;\r\n\r\n@Component({\r\n  selector: 'kindness-submitted',\r\n    template: `\r\n    \r\n  `,\r\n  styleUrls: [\"app/sonny.dialogue.component.css\"],\r\n  providers: [\r\n    KindnessService,\r\n    GoCalComponent,\r\n    SonnyComponent,\r\n    SonnyDialogue,\r\n    ChallengeComponent,\r\n    PretentiousComponent,\r\n    TimeService,\r\n    SonnyHelp\r\n  ]\r\n})\r\n\r\n\r\nexport class SubmitKindnessComplete{\r\n     \r\n    constructor(\r\n      private challengeComponent : ChallengeComponent,\r\n      private pretentiousComponent : PretentiousComponent,\r\n      private goCalComponent:GoCalComponent,      \r\n      private kindnessService:KindnessService,\r\n      private sonnyComponent:SonnyComponent,\r\n      private sonnyHelp:SonnyHelp,\r\n      private alternativeKindness : AlternativeKindness,\r\n      private sonnyDialogue:SonnyDialogue,\r\n      private timeService : TimeService      \r\n    ) {}\r\n  \r\n    public timeLeft = 24 - this.timeService.returnTime();\r\n       \r\n    /*\r\n    * CHECK SUBMISSION\r\n    */\r\n    kindessSubmit(){\r\n      jQuery('.classicView').attr('classic','false');\r\n      jQuery('.goToCal,.orTxt, .intentionTask, .completeContainer').show();\r\n      // document.getElementById(\"submitCheck\").style.display = \"block\";   \r\n      var inputPerson = <HTMLInputElement>document.getElementById(\"inputPerson\");\r\n      var inputKindness = <HTMLInputElement>document.getElementById(\"inputKindness\");\r\n      \r\n      if(inputKindness.value == \"\"){\r\n        // No Kindness Entered\r\n        document.getElementById(\"kindnessText\").style.color = \"red\"; \r\n        // document.getElementById(\"whoText\").style.color = \"black\";  \r\n        inputKindness.placeholder = \"Please enter a kindness!\";\r\n      }\r\n      else{\r\n        this.kindnessSuccess(); // winning animation\r\n      }\r\n    }\r\n\r\n    /*\r\n    * CHECK REPEAT\r\n    * If no date in the date array then inject new kindnness otherwise everything breaks\r\n    * If$('#kindnessView').attr('kindnessComplete','true') from timeService\r\n    * Then replace the last kindness\r\n    * Else save as last kindness\r\n    */\r\n    checkRepeat(){\r\n       var inputKindness = <HTMLInputElement>document.getElementById(\"inputKindness\");\r\n       if (localStorage.getItem(\"dateArray\") == ''){ // if no date array\r\n          // save as new kindness\r\n          this.kindnessService.saveData(inputKindness.value);// call in the service to deal with data\r\n          this.challengeComponent.iterateCompassion(); // iterate challenge\r\n          jQuery('#kindnessView').attr('kindnessComplete','true'); // mark first day as done\r\n          inputKindness.value = '';\r\n          return;\r\n       }\r\n  \r\n        if( jQuery('#kindnessView').attr('kindnessComplete') ==  'true' ){\r\n          // replace last kindness\r\n          var kindnessArray = JSON.parse(localStorage.getItem(\"kindnessArray\"));\r\n          kindnessArray[0] = inputKindness.value;\r\n          localStorage.setItem(\"kindnessArray\", JSON.stringify(kindnessArray)); \r\n\r\n          // // allow cheating (compassion challenge day 1 -> 2 if on day 1)\r\n          // var compassionNum = localStorage.getItem(\"compassionChallenge\");\r\n          // if(compassionNum == '1'){\r\n          //    this.challengeComponent.iterateCompassion(); // iterate challenge \r\n          // }\r\n          inputKindness.value = '';\r\n\r\n          return;\r\n        }  \r\n       // save as new kindness\r\n       this.kindnessService.saveData(inputKindness.value);\r\n       this.challengeComponent.iterateCompassion(); // iterate challenge\r\n       jQuery('#kindnessView').attr('kindnessComplete','true');\r\n       inputKindness.value = '';\r\n    }\r\n\r\n    /*\r\n    * SUBMISSION SUCCESSFUL\r\n    * Check if sonny is present & launch winning animation\r\n    * Go to winning view\r\n    */\r\n    kindnessSuccess(){ \r\n    \r\n     if(this.sonnyComponent.sonnyPresent == false){\r\n          this.pretentiousComponent.winning();          \r\n     }\r\n     else{\r\n          this.sonnyDialogue.introSonny('winning');  \r\n     }      \r\n     jQuery(\".compassionDay\").attr('firstCompassion','false');\r\n     this.checkRepeat();     \r\n     jQuery(\"#doneView\").show();\r\n     this.sonnyHelp.transitionViews(\"kindnessView\",\"doneView\");\r\n\r\n     if(jQuery('#sonnyGif').attr('char') == 'badBro'){ \r\n      jQuery('.compassionSelect').hide();\r\n    }\r\n    else{\r\n      jQuery('.compassionSelect').show();\r\n\r\n     }\r\n    }\r\n\r\n    /*\r\n    * BACK TO KINDNESS\r\n    * Determine Sonny or BadBro\r\n    * Create equivalent dialogue\r\n    * Change views back to kindness\r\n    */\r\n    backToKindness(){      \r\n      this.challengeComponent.revertSuccess();\r\n      jQuery('#kindnessView').show();\r\n      if(this.sonnyComponent.sonnyPresent == false){\r\n        this.pretentiousComponent.replaceTask();          \r\n      }\r\n      else{\r\n        this.sonnyComponent.sonnyState('intro','sonny'); \r\n        \r\n        if(jQuery('#kindnessView').attr('kindnessComplete') ==  'true'){  // first time              \r\n          this.sonnyDialogue.sonnySpeech([\"Replace today's kindness with an even better one below!\"]);  \r\n        }\r\n        else{\r\n          this.sonnyDialogue.sonnySpeech([\"Nice work! Today's kindness has been replaced!\"]);  \r\n        }\r\n      }      \r\n      this.sonnyHelp.transitionViews(\"doneView\",\"kindnessView\");\r\n      this.alternativeKindness.backToKindness()\r\n    }    \r\n}\r\n"]}