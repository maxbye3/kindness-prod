{"version":3,"file":"theme.component.js","sourceRoot":"","sources":["../Users/max/Sites/kindness/kindness-prod/tmp/broccoli_type_script_compiler-input_base_path-f3oRfVku.tmp/0/src/app/theme.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Directive, ElementRef} from '@angular/core';\r\nimport {PretentiousComponent} from './pretentious.component';\r\nimport {SonnyComponent} from './sonny.component';\r\nimport {SonnyDialogue} from './sonny.dialogue.component';\r\nimport {ChallengeComponent} from './challenge.component';\r\nimport {BoatComponent} from './boat.component';\r\nimport {TimeService} from './time.service';\r\nimport { GeneratorBackend } from './generator.component';\r\ndeclare var jQuery: any;\r\n\r\n@Directive({\r\n  selector: 'theme-component',\r\n  providers:[GeneratorBackend, BoatComponent, ChallengeComponent, PretentiousComponent, SonnyComponent, SonnyDialogue, TimeService]  \r\n})\r\n\r\nexport class ThemeComponent {\r\n    private furnitureImg;\r\n    public showStyle = false;\r\n    public theme;\r\n    public selectedBackground;\r\n     \r\n    constructor(\r\n      private pretentiousComponent: PretentiousComponent,\r\n      private generatorBackend : GeneratorBackend,\r\n      private sonnyComponent : SonnyComponent,\r\n      private sonnyDialogue : SonnyDialogue,\r\n      private timeService : TimeService,\r\n      private challengeComponent : ChallengeComponent,\r\n      private boatComponent : BoatComponent\r\n    ) {}\r\n    \r\n   /*\r\n   * RESET SONNY\r\n   * Totally reset either sonny or Bad Bro\r\n   */\r\n    resetSonny(){\r\n      \r\n      if(this.sonnyComponent.sonnyPresent == false){\r\n        // reset Bad Bro\r\n        jQuery(\".sonnyContainer\").attr(\"outroAllowed\",'false');\r\n        this.pretentiousComponent.intBad('greet');\r\n        \r\n     }\r\n     else{\r\n        // reset Sonny\r\n        //this.sonnyDialogue.greeting();\r\n                  \r\n     }      \r\n    }\r\n  \r\n    \r\n   setTheme(theme){\r\n      jQuery('kindness-generator-component').hide();\r\n      jQuery('#sonnyIcon').css(\"right\",\"0px\");  // slide sonnyIcon in\r\n      var introNecessary = localStorage.getItem(\"compassionChallenge\"); // if undefined then do screens       \r\n      if(introNecessary != null){\r\n        if(theme == \"pretentious\"){\r\n\r\n          this.removeAllThemesBar(theme);\r\n          var is_iPad = navigator.userAgent.match(/iPad/i) != null;\r\n          if(is_iPad){\r\n            jQuery('.sonnyChar').css('top','60px');\r\n          }\r\n          this.pretentiousComponent.intScene(); \r\n          jQuery('.birdContainer').show();         \r\n        }\r\n        else  {\r\n          this.seasonTheme(theme);\r\n          jQuery('.birdContainer').hide();\r\n        }\r\n      }\r\n      this.generatorBackend.checkIntention(); // find if intention has been done     \r\n   }\r\n   \r\n    /*\r\n    * SUMMER SCENE\r\n    * Set all generator parameters to false\r\n    * Launch Sonny\r\n    * Setup parameters for winter or summer\r\n    */ \r\n    seasonTheme(theme){        \r\n        jQuery(\".skipContainer\").attr('theme',theme);             \r\n        // hide so nothing shown & set all generator parameters to false\r\n        jQuery('kindness-generator-component, compassion-flow-component').hide();        \r\n        jQuery(\".settingsMenuItem img\").attr('src','./img/icons/sonny.png');\r\n        jQuery('.narcissimTxt').html('Tired of being nice?');\r\n\r\n        var is_iPad = navigator.userAgent.match(/iPad/i) != null;\r\n        if(is_iPad){\r\n          jQuery('.sonnyChar').css('top','50px');\r\n        }\r\n\r\n        this.sonnyComponent.sonnyPresent = true;\r\n  \r\n        jQuery('.summerShip').show();\r\n        jQuery('.pretentiousShip').hide();\r\n        \r\n        jQuery('.callChar p .icon img').attr('src','./img/icons/more-skinny.png');\r\n        \r\n        //remove badBro\r\n        jQuery(\"badBroStatic\").hide();\r\n        clearInterval(this.sonnyComponent.idleAnimation); // idle animations        \r\n        jQuery('#sonnyGif,#sonnyStatic').show().attr('char' , 'sonny'); // idle animations\r\n      \r\n        // launch Sonny\r\n        this.sonnyComponent.sonnyState(\"intro\",\"sonny\");\r\n        this.sonnyDialogue.greeting();\r\n        jQuery(\".sonnyDialogue\").show();\r\n        jQuery(\".badBroDialogue\").hide();\r\n      \r\n        // hide pretentious stuff\r\n        jQuery(\".preventThorns,.preventThornsGrad,.calBg,.badBroDialogue\").hide();\r\n        this.removeAllThemesBar(theme);\r\n        this.pretentiousComponent.removeScene();\r\n        this.theme = theme;\r\n        this.selectedBackground = theme;\r\n        //document.getElementById(\"themeSelected\").innerHTML = theme;\r\n        \r\n        this.furnitureImg = './img/scenes/'+theme+'.gif?t=' + new Date().getTime();\r\n        jQuery('.furniture').attr('src','./img/scenes/summer.gif?t=' +  + new Date().getTime());\r\n        if(theme == \"summer\"){\r\n          this.boatComponent.moveBoat('summer');\r\n          document.getElementById(\"birdContainer\").style.display = \"block\";\r\n          document.getElementById(\"boatContainer\").style.display = \"block\";\r\n          document.getElementById(\"winterHouse\").style.display = \"none\";\r\n          document.getElementById(\"snowContainer1\").style.display = \"none\";\r\n          document.getElementById(\"snowContainer2\").style.display = \"none\";  \r\n          jQuery(\"#themeSelected\").html('summer'); \r\n        }\r\n        else if(theme == \"winter\"){\r\n          this.boatComponent.moveBoat('winter');\r\n          document.getElementById(\"birdContainer\").style.display = \"none\";\r\n          document.getElementById(\"boatContainer\").style.display = \"none\";\r\n          document.getElementById(\"winterHouse\").style.display = \"block\";\r\n          document.getElementById(\"snowContainer1\").style.display = \"block\";\r\n          document.getElementById(\"snowContainer2\").style.display = \"block\";\r\n          jQuery(\"#themeSelected\").html('winter'); \r\n        }\r\n        \r\n        this.challengeComponent.intCompassion();\r\n    }\r\n    \r\n    /*\r\n    * SONNY COMMENT\r\n    * Sonny comments on theme change\r\n    */\r\n    sonnyComment(){   \r\n      jQuery(\"#sonnyGif\").attr('animating','true');     \r\n      var badBro = \"<img src='./img/icons/badBro.png' style='height: 25px;border: #473939 solid 0.5px;padding: 5px;'>\";      \r\n      this.sonnyDialogue.sonnySpeech([\"Change theme by clicking on one below\",\"Pretentious theme will bring up \"+ badBro]);\r\n      jQuery(\".sonnyContainer\").attr(\"outroAllowed\",\"false\");\r\n    }\r\n    \r\n   /*\r\n    * Changing the theme\r\n    */\r\n    changeTheme() {                  \r\n      return this.theme;\r\n    }\r\n    \r\n    /*\r\n    * GO BACK\r\n    * Go back to main screen\r\n    */\r\n    back(){\r\n      // show everything\r\n      jQuery('kindness-generator-component, #kindness-generator, #doneView').css('opacity','1');\r\n      setTimeout(() => { \r\n        jQuery('kindness-generator-component, #kindness-generator, #doneView').css('opacity','1');\r\n      }, 500);\r\n      if(localStorage.getItem('intention') == 'false'){\r\n        jQuery('kindness-generator-component').show();  \r\n      }\r\n      \r\n      document.getElementById('themeChange').className = \"\";  \r\n      document.getElementById('themeChange').className += \" outro\";\r\n\r\n      if(jQuery('#kindnessView').css('display') == 'none'){\r\n        var classname = 'doneView';\r\n      }\r\n      else if(jQuery('#doneView').css('display') == 'none'){\r\n          classname = 'kindnessView';\r\n      }\r\n      \r\n      this.timeService.dayCheck(classname); \r\n    }\r\n\r\n    selectButton(theme){\r\n      this.selectedBackground = theme;\r\n      jQuery('.sonnyDialogue').attr('theme',theme);\r\n      this.setTheme(this.selectedBackground);\r\n      return 'rgba(0,0,0,0.05)';\r\n    }\r\n    // theme change (end)\r\n    \r\n    removeAllThemesBar(theme){\r\n      // max add spring and autumn when they are made\r\n      jQuery(\".theme\").removeClass(\"winter pretentious summer\");\r\n      jQuery(\".theme\").addClass(theme);    \r\n    }\r\n}\r\n\r\n"]}